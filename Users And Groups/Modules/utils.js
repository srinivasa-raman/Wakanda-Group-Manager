/*** @author admin*/exports.getGroups = function(){	var	curSession	= currentSession(),	res 		= [];		directory.internalStore.Group.forEach(function(){		if(currentSession.belongsTo()){			res.push();		}	})}exports.toCamelCase = function(str){	return str.substring(0,1).toUpperCase() + str.substring(1);}	exports.extend = function(destination, source) {  for (var property in source) {    if (typeof source[property] === "object" &&     source[property] !== null ) {      destination[property] = destination[property] || {};      arguments.callee(destination[property], source[property]);    } else {      destination[property] = source[property];    }  }  return destination;};// Fixes the attribute value (if it's a number it parses the parameters and return the correct value )exports.fixAttrValue = function(attr , value) {	switch(attr.type){		case 'number'	:		case 'long'		:			return parseInt(value);		default	:			return value;	}};exports.getConfig = function(dc1Name, dc2Name) {	var NN_RELATIONS = __myNameSpace.NN_RELATIONS;    	    	if(!ds[dc1Name]){  			return __myNameSpace.ERRORS.Model.Utils.noDCWithThatName;  	}  	  	if(arguments.length == 1){  		// Do nothing !  	}  	else if(arguments.length == 2 && !ds[dc2Name]){  		if(typeof dc2Name != 'boolean'){  			return __myNameSpace.ERRORS.Model.Utils.inexpectedParam;  		}  	}    	else if(!ds[dc1Name] || !ds[dc2Name]){    		return __myNameSpace.ERRORS.Model.Utils.noDCWithThatName;    	}    	    for(var i in NN_RELATIONS){        var        obj 		= NN_RELATIONS[i],        relationDC	= ds[obj.RELATION_DC],        objDC1		= relationDC[obj.DC1.relatedAttribute],        objDC2		= relationDC[obj.DC2.relatedAttribute];                if(objDC1.kind != 'relatedEntity' || objDC2.kind != 'relatedEntity'){        	return __myNameSpace.ERRORS.Model.Utils.typeMismatch;        }          		if(arguments.length == 1){  			if(obj.RELATION_DC == dc1Name){  				return NN_RELATIONS[i];  			}	  		continue;	  	}	  		  	else if(arguments.length == 2 && typeof dc2Name == 'boolean'){	  		dc1Name = objDC2.relatedDataClass.getName();	  		dc2Name	= objDC1.relatedDataClass.getName();	  	}                if(objDC1.relatedDataClass.getName() == dc1Name && objDC2.relatedDataClass.getName() == dc2Name){        	return obj;        }                if(objDC1.relatedDataClass.getName() == dc2Name && objDC2.relatedDataClass.getName() == dc1Name){        	if(obj.reversed){        		return obj;        	}        	        	var	        dc1 = obj.DC1;				        obj.DC1 		= obj.DC2;	        obj.DC2 		= dc1;	        	        var	        errs	= obj.ERRORS,	        errDC1 	= errs.DC1Empty;	        	        errs.DC1Empty	= errs.DC2Empty;	        errs.DC2Empty	= errDC1;	        	        obj.reversed	= true;				        return obj;        }    }	    return __myNameSpace.ERRORS.Model.Utils.noNNRelation;};exports.syncDirectoryGroups = function(){	directory.internalStore.Group.forEach(function(entity){		var		group 					= ds.Group.find('name = :1' , entity.name),		groupInternalStoreDC	= entity.getDataClass();				if(__myNameSpace.META.GROUPS_DO_NOT_SYNC.indexOf(entity.name) >= 0){			return;		}				if(!group){			group = new ds.Group();		}				group['name'] 			= entity['name'];		group['directoryName'] 	= entity['name'];				try{			group.save();		}catch(e){					}	});	ds.Group.query('name in :1' , __myNameSpace.META.GROUPS_DO_NOT_SYNC).remove();	ds.Group.forEach(function(entity){		var		group 				= directory.internalStore.Group.find('name = :1' , entity.name),		groupsToNotSyncArr 	= __myNameSpace.META.GROUPS_DO_NOT_SYNC;				if(!group){			entity.remove();		}	});}